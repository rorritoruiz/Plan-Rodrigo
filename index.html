<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Plan Nutricional ¬∑ Silvina Marone</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;900&family=Pacifico&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
body { font-family:'Nunito',sans-serif; min-height:100vh; overflow-x:hidden; }
#home { min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:2rem 1.5rem; background:linear-gradient(160deg,#fff0f5 0%,#f0f8ff 50%,#fff0f5 100%); position:relative; overflow:hidden; }
#home::before { content:'üå∏ü§ñüå∏ü§ñüå∏'; position:absolute; top:1rem; left:0; right:0; text-align:center; font-size:1.5rem; opacity:0.15; letter-spacing:1rem; }
.home-title { font-weight:900; font-size:1.4rem; color:#555; text-align:center; margin-bottom:0.3rem; }
.home-sub { font-size:0.85rem; color:#999; text-align:center; margin-bottom:3rem; }
.home-cards { display:flex; flex-direction:column; gap:1.2rem; width:100%; max-width:340px; }
.card-nancy { background:linear-gradient(135deg,#ff85a1 0%,#ffb3c6 50%,#ffd6e0 100%); border-radius:28px; padding:1.8rem 1.5rem; text-align:center; cursor:pointer; box-shadow:0 8px 30px rgba(255,100,150,0.35); transition:transform 0.2s; border:3px solid rgba(255,255,255,0.6); }
.card-nancy:active { transform:scale(0.97); }
.card-nancy h2 { font-family:'Pacifico',cursive; font-size:2rem; color:white; }
.card-nancy p,.card-rodrigo p { font-size:0.8rem; color:rgba(255,255,255,0.85); margin-top:0.3rem; }
.card-nancy .card-tag,.card-rodrigo .card-tag { display:inline-block; background:rgba(255,255,255,0.35); border-radius:20px; padding:0.2rem 0.9rem; font-size:0.75rem; font-weight:700; color:white; margin-top:0.6rem; border:1px solid rgba(255,255,255,0.5); }
.card-nancy .card-emoji,.card-rodrigo .card-emoji { font-size:3.5rem; display:block; margin-bottom:0.5rem; }
.card-rodrigo { background:linear-gradient(135deg,#4fc3f7 0%,#81d4fa 50%,#b3e5fc 100%); border-radius:28px; padding:1.8rem 1.5rem; text-align:center; cursor:pointer; box-shadow:0 8px 30px rgba(30,150,220,0.35); transition:transform 0.2s; border:3px solid rgba(255,255,255,0.6); }
.card-rodrigo:active { transform:scale(0.97); }
.card-rodrigo h2 { font-family:'Orbitron',monospace; font-size:1.6rem; color:white; letter-spacing:1px; }
.home-footer { margin-top:2rem; font-size:0.75rem; color:#aaa; text-align:center; }
.app-screen { display:none; height:100dvh; flex-direction:column; overflow:hidden; }
.back-btn { position:absolute; top:1rem; left:1rem; background:rgba(255,255,255,0.25); border:none; border-radius:50%; width:38px; height:38px; font-size:1.2rem; cursor:pointer; display:flex; align-items:center; justify-content:center; color:white; z-index:10; }
#app-nancy { background:#fff5f8; }
.nancy-header { background:linear-gradient(135deg,#ff6b9d 0%,#ff85a1 100%); color:white; padding:1.4rem 1.2rem 1rem; flex-shrink:0; box-shadow:0 2px 20px rgba(255,100,150,0.25); position:relative; }
.nancy-header h1 { font-family:'Pacifico',cursive; font-size:1.5rem; padding-left:2.5rem; }
.nancy-header p,.rodrigo-header p { font-size:0.78rem; opacity:0.85; margin-top:0.1rem; padding-left:2.5rem; }
#app-rodrigo { background:#f0f8ff; }
.rodrigo-header { background:linear-gradient(135deg,#0288d1 0%,#4fc3f7 100%); color:white; padding:1.4rem 1.2rem 1rem; flex-shrink:0; box-shadow:0 2px 20px rgba(2,136,209,0.25); position:relative; }
.rodrigo-header h1 { font-family:'Orbitron',monospace; font-size:1.2rem; padding-left:2.5rem; letter-spacing:1px; }
.search-row { margin-top:0.9rem; position:relative; }
.search-row input { width:100%; padding:0.65rem 1rem 0.65rem 2.6rem; border-radius:30px; border:none; font-family:'Nunito',sans-serif; font-size:0.9rem; background:rgba(255,255,255,0.22); color:white; outline:none; }
.search-row input::placeholder { color:rgba(255,255,255,0.65); }
.search-row .si { position:absolute; left:0.9rem; top:50%; transform:translateY(-50%); opacity:0.7; }
.sr-box { display:none; background:white; border-radius:14px; margin-top:0.5rem; box-shadow:0 8px 30px rgba(0,0,0,0.15); max-height:250px; overflow-y:auto; }
.sr-item { padding:0.75rem 1rem; border-bottom:1px solid #f0f0f0; font-size:0.85rem; cursor:pointer; }
.sr-item:last-child { border-bottom:none; }
.sr-item strong { display:block; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.5px; }
.sr-item.nancy-sr strong{color:#ff6b9d;} .sr-item.rodrigo-sr strong{color:#0288d1;}
.top-tabs { display:flex; background:white; overflow-x:auto; scrollbar-width:none; flex-shrink:0; z-index:90; }
.top-tabs::-webkit-scrollbar { display:none; }
.ntabs { border-bottom:2px solid #ffd6e0; }
.rtabs { border-bottom:2px solid #b3e5fc; }
.ntab,.rtab { flex-shrink:0; padding:0.85rem 1.2rem; border:none; background:none; font-family:'Nunito',sans-serif; font-size:0.85rem; font-weight:700; cursor:pointer; white-space:nowrap; border-bottom:3px solid transparent; margin-bottom:-2px; opacity:0.5; transition:all 0.2s; }
.ntab { color:#ff6b9d; } .ntab.active { opacity:1; border-bottom-color:#ff6b9d; }
.rtab { color:#0288d1; } .rtab.active { opacity:1; border-bottom-color:#0288d1; }
.tab-content { display:none; padding:1rem; animation:fadeIn 0.25s ease; overflow-y:auto; flex:1; padding-bottom:90px; -webkit-overflow-scrolling:touch; }
.tab-content.active { display:block; }
@keyframes fadeIn { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:translateY(0)} }
.cat-grid { display:grid; grid-template-columns:1fr 1fr; gap:0.75rem; }
@media(min-width:600px){ .cat-grid{ grid-template-columns:repeat(3,1fr); } }
.cat-card { background:white; border-radius:16px; padding:1rem; cursor:pointer; transition:all 0.2s; box-shadow:0 4px 15px rgba(0,0,0,0.06); border:1.5px solid #eee; }
.cat-card:active { transform:scale(0.97); }
.cat-card .ce { font-size:1.8rem; display:block; margin-bottom:0.4rem; }
.cat-card h3 { font-size:0.82rem; font-weight:900; text-transform:uppercase; letter-spacing:0.5px; }
.cat-card .cp { font-size:0.75rem; color:#999; margin-top:0.25rem; line-height:1.4; }
.cat-card .ctag { display:inline-block; border-radius:20px; padding:0.15rem 0.6rem; font-size:0.7rem; font-weight:700; margin-top:0.5rem; }
.nancy-card h3{color:#ff6b9d;} .nancy-card .ctag{background:#ffe4ee;color:#ff6b9d;} .nancy-card .ctag.amber{background:#fff0e0;color:#e07000;}
.rodrigo-card h3{color:#0288d1;} .rodrigo-card .ctag{background:#e0f4ff;color:#0288d1;} .rodrigo-card .ctag.amber{background:#fff0e0;color:#e07000;}
.meal-card { background:white; border-radius:16px; overflow:hidden; margin-bottom:1rem; box-shadow:0 4px 15px rgba(0,0,0,0.06); border:1.5px solid #eee; }
.meal-hd { padding:1rem 1.2rem; display:flex; align-items:center; gap:0.7rem; color:white; }
.meal-hd .me { font-size:1.6rem; }
.meal-hd h3 { font-size:1.1rem; font-weight:900; }
.meal-hd small { font-size:0.75rem; opacity:0.85; display:block; margin-top:0.1rem; }
.n-desayuno{background:linear-gradient(135deg,#ff6b9d,#ff99bb);} .n-colacion{background:linear-gradient(135deg,#ff85a1,#ffaabb);} .n-almuerzo{background:linear-gradient(135deg,#e05080,#ff6b9d);} .n-merienda{background:linear-gradient(135deg,#c04070,#e06090);} .n-cena{background:linear-gradient(135deg,#8b2252,#c0406e);}
.r-desayuno{background:linear-gradient(135deg,#f57c00,#ffb74d);} .r-colacion{background:linear-gradient(135deg,#388e3c,#66bb6a);} .r-almuerzo{background:linear-gradient(135deg,#0288d1,#4fc3f7);} .r-merienda{background:linear-gradient(135deg,#7b4f00,#bf7f30);} .r-cena{background:linear-gradient(135deg,#1a3a5c,#2e6e9e);}
.meal-body { padding:1rem 1.2rem; }
.meal-row { display:flex; gap:0.6rem; align-items:flex-start; padding:0.5rem 0; border-bottom:1px solid #f5f5f5; font-size:0.86rem; line-height:1.5; }
.meal-row:last-child { border-bottom:none; }
.meal-row .dot { width:8px; height:8px; border-radius:50%; flex-shrink:0; margin-top:5px; }
.nancy-dot{background:#ff99bb;} .nancy-dot.alt{background:#ffcc00;} .rodrigo-dot{background:#4fc3f7;} .rodrigo-dot.alt{background:#ffb74d;}
.nancy-strong{color:#ff6b9d;} .rodrigo-strong{color:#0288d1;}
.tip-card { background:white; border-radius:14px; padding:1rem; margin-bottom:0.75rem; display:flex; gap:0.8rem; align-items:center; border:1.5px solid #eee; }
.tip-icon { font-size:1.6rem; flex-shrink:0; }
.tip-text { font-size:0.86rem; line-height:1.5; color:#444; }
.consult-box { border-radius:16px; padding:1rem 1.2rem; color:white; margin-top:1rem; text-align:center; }
.nancy-consult{background:linear-gradient(135deg,#ff6b9d,#ff99bb);} .rodrigo-consult{background:linear-gradient(135deg,#0288d1,#4fc3f7);}
.modal-overlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:500; align-items:flex-end; justify-content:center; }
.modal-overlay.open { display:flex; }
.modal { background:white; border-radius:24px 24px 0 0; width:100%; max-width:600px; max-height:85vh; overflow-y:auto; padding:1.5rem 1.2rem 2rem; animation:slideUp 0.3s cubic-bezier(0.34,1.56,0.64,1); }
@keyframes slideUp { from{transform:translateY(100%)} to{transform:translateY(0)} }
.modal-handle { width:40px; height:4px; background:#e0e0e0; border-radius:4px; margin:0 auto 1.2rem; }
.modal h2 { font-size:1.3rem; font-weight:900; margin-bottom:1rem; }
.modal .portion-box { border-radius:12px; padding:0.7rem 1rem; margin-bottom:1rem; font-size:0.85rem; font-weight:700; }
.modal .food-item { display:flex; align-items:flex-start; gap:0.5rem; padding:0.5rem 0; border-bottom:1px solid #f5f5f5; font-size:0.88rem; }
.modal .food-item:last-child { border-bottom:none; }
.modal-close { display:block; width:100%; margin-top:1.2rem; padding:0.85rem; color:white; border:none; border-radius:30px; font-family:'Nunito',sans-serif; font-size:1rem; font-weight:700; cursor:pointer; }
.nancy-modal h2{color:#ff6b9d;} .nancy-modal .portion-box{background:#ffe4ee;color:#ff6b9d;} .nancy-modal .modal-close{background:linear-gradient(135deg,#ff6b9d,#ff99bb);}
.rodrigo-modal h2{color:#0288d1;} .rodrigo-modal .portion-box{background:#e0f4ff;color:#0288d1;} .rodrigo-modal .modal-close{background:linear-gradient(135deg,#0288d1,#4fc3f7);}
.bottom-nav { position:fixed; bottom:0; left:0; right:0; background:white; border-top:1.5px solid #eee; display:flex; z-index:200; padding-bottom:env(safe-area-inset-bottom); }
.bottom-btn { flex:1; display:flex; flex-direction:column; align-items:center; padding:0.6rem 0.2rem; border:none; background:none; font-family:'Nunito',sans-serif; font-size:0.58rem; font-weight:700; color:#bbb; cursor:pointer; gap:0.15rem; }
.bottom-btn .be { font-size:1.2rem; }
.nancy-bnav .bottom-btn.active{color:#ff6b9d;} .rodrigo-bnav .bottom-btn.active{color:#0288d1;}
.sec-hd { display:flex; align-items:center; gap:0.6rem; margin-bottom:1rem; margin-top:0.5rem; }
.sec-hd h2 { font-size:1rem; font-weight:900; }
.nancy-sec h2{color:#ff6b9d;} .rodrigo-sec h2{color:#0288d1;}
.sec-hd .line { flex:1; height:1.5px; background:#eee; }
.hint { font-size:0.8rem; color:#aaa; margin-bottom:1rem; }
/* SORPRENDEME */
.moment-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:0.6rem; margin-bottom:1.2rem; }
.moment-btn { padding:0.7rem 0.3rem; border-radius:14px; border:2px solid #eee; background:white; font-family:'Nunito',sans-serif; font-size:0.75rem; font-weight:700; cursor:pointer; text-align:center; color:#666; }
.moment-btn .mb-e { font-size:1.4rem; display:block; margin-bottom:0.2rem; }
.nancy-moment.selected{color:#ff6b9d;background:#fff0f5;border-color:#ff6b9d;} .rodrigo-moment.selected{color:#0288d1;background:#f0f8ff;border-color:#0288d1;}
.big-btn { width:100%; padding:1rem; border:none; border-radius:30px; color:white; font-family:'Nunito',sans-serif; font-size:1rem; font-weight:900; cursor:pointer; margin-bottom:1.2rem; }
.nancy-big{background:linear-gradient(135deg,#ff6b9d,#ff99bb);} .rodrigo-big{background:linear-gradient(135deg,#0288d1,#4fc3f7);}
.result-card { background:white; border-radius:20px; padding:1.2rem; box-shadow:0 4px 20px rgba(0,0,0,0.08); border:1.5px solid #eee; animation:fadeIn 0.3s ease; }
.result-card h3 { font-size:1rem; font-weight:900; margin-bottom:0.8rem; }
.result-row { display:flex; align-items:flex-start; gap:0.6rem; padding:0.45rem 0; border-bottom:1px solid #f5f5f5; font-size:0.85rem; }
.result-row:last-child { border-bottom:none; }
.rl { font-weight:700; min-width:85px; font-size:0.8rem; flex-shrink:0; }
.rv { color:#555; }
.nancy-rc h3{color:#ff6b9d;} .nancy-rc .rl{color:#ff6b9d;} .rodrigo-rc h3{color:#0288d1;} .rodrigo-rc .rl{color:#0288d1;}
/* PLATO */
.ingr-input-row { display:flex; gap:0.5rem; margin-bottom:0.5rem; }
.ingr-input { flex:1; padding:0.65rem 1rem; border-radius:30px; border:2px solid #eee; font-family:'Nunito',sans-serif; font-size:0.9rem; outline:none; }
.ingr-btn { padding:0.65rem 1.2rem; border:none; border-radius:30px; color:white; font-family:'Nunito',sans-serif; font-size:0.85rem; font-weight:700; cursor:pointer; }
.nancy-ingr{background:#ff6b9d;} .rodrigo-ingr{background:#0288d1;}
.ingr-tags { display:flex; flex-wrap:wrap; gap:0.4rem; margin-bottom:1rem; min-height:24px; }
.ingr-tag { border-radius:20px; padding:0.3rem 0.8rem; font-size:0.8rem; font-weight:700; cursor:pointer; display:flex; align-items:center; gap:0.3rem; }
.plate-result { background:white; border-radius:20px; padding:1.2rem; box-shadow:0 4px 20px rgba(0,0,0,0.08); }
.plate-section { margin-bottom:0.9rem; }
.plate-section h4 { font-size:0.82rem; font-weight:900; margin-bottom:0.4rem; }
.yes-h{color:#4caf50;} .no-h{color:#f44336;} .tip-h{color:#ff9800;}
.plate-item { font-size:0.84rem; color:#555; padding:0.25rem 0; }
/* COMPRAS */
.shop-loading { text-align:center; padding:2rem; color:#aaa; }
.shop-loading .loader { font-size:2rem; animation:spin 1s linear infinite; display:block; margin-bottom:0.5rem; }
@keyframes spin { to{transform:rotate(360deg)} }
.shop-list { background:white; border-radius:20px; overflow:hidden; box-shadow:0 4px 20px rgba(0,0,0,0.08); }
.shop-cat-hd { padding:0.8rem 1rem; font-weight:900; font-size:0.85rem; display:flex; align-items:center; gap:0.5rem; background:#fafafa; border-bottom:1px solid #f0f0f0; }
.shop-item { display:flex; align-items:center; gap:0.8rem; padding:0.7rem 1rem; border-top:1px solid #f5f5f5; cursor:pointer; }
.shop-item input[type=checkbox] { width:18px; height:18px; accent-color:#4caf50; cursor:pointer; flex-shrink:0; }
.shop-item label { font-size:0.86rem; color:#333; cursor:pointer; flex:1; }
.shop-item.checked label { text-decoration:line-through; color:#bbb; }
.shop-info { font-size:0.78rem; color:#888; margin-bottom:1rem; text-align:center; padding:0.5rem; background:#f9f9f9; border-radius:12px; }
</style>
</head>
<body>
<div id="home">
  <div class="home-title">ü•ó Plan Nutricional</div>
  <div class="home-sub">Lic. Silvina Marone ¬∑ 18/02/2026</div>
  <div class="home-cards">
    <div class="card-nancy" onclick="goTo('nancy')"><span class="card-emoji">üéÄ</span><h2>Nancy</h2><p>Tu plan personalizado</p><span class="card-tag">Sarah Kay ‚ú®</span></div>
    <div class="card-rodrigo" onclick="goTo('rodrigo')"><span class="card-emoji">ü§ñ</span><h2>RODRIGO</h2><p>Tu plan personalizado</p><span class="card-tag">Robot Mode üöÄ</span></div>
  </div>
  <div class="home-footer">Toc√° tu nombre para acceder a tu plan</div>
</div>

<!-- NANCY APP -->
<div id="app-nancy" class="app-screen">
  <div class="nancy-header">
    <button class="back-btn" onclick="goHome()">‚Üê</button>
    <h1>üéÄ Nancy</h1><p>Lic. Silvina Marone ¬∑ 18/02/2026</p>
    <div class="search-row"><span class="si">üîç</span><input type="text" id="n-search" placeholder="Buscar alimento..." autocomplete="off"><div id="n-sr" class="sr-box"></div></div>
  </div>
  <div class="top-tabs ntabs" id="n-top-tabs">
    <button class="ntab active" onclick="nTab('alimentos')">üß∫ Alimentos</button>
    <button class="ntab" onclick="nTab('comidas')">üçΩÔ∏è Comidas</button>
    <button class="ntab" onclick="nTab('consejos')">üí° Consejos</button>
  </div>
  <div class="tab-content active" id="n-tab-alimentos"><div class="sec-hd nancy-sec"><h2>Categor√≠as</h2><div class="line"></div></div><p class="hint">Toc√° para ver la lista completa.</p><div class="cat-grid" id="n-cat-grid"></div></div>
  <div class="tab-content" id="n-tab-comidas"><div class="sec-hd nancy-sec"><h2>Plan diario</h2><div class="line"></div></div><div id="n-meals"></div></div>
  <div class="tab-content" id="n-tab-consejos"><div class="sec-hd nancy-sec"><h2>Recomendaciones</h2><div class="line"></div></div><div id="n-tips"></div><div class="consult-box nancy-consult"><div style="font-size:1.5rem">üìû</div><div style="font-weight:900">Consultorio</div><div style="font-size:1.1rem;margin-top:0.2rem">39831731</div></div></div>
  <div class="tab-content" id="n-tab-sorpresa">
    <div class="sec-hd nancy-sec"><h2>üé≤ Sorprendeme</h2><div class="line"></div></div>
    <p class="hint">Eleg√≠ el momento o gener√° cualquier comida al azar.</p>
    <div class="moment-grid">
      <button class="moment-btn nancy-moment" onclick="selMoment('n','desayuno',this)"><span class="mb-e">üå∏</span>Desayuno</button>
      <button class="moment-btn nancy-moment" onclick="selMoment('n','colacion',this)"><span class="mb-e">üçì</span>Colaci√≥n</button>
      <button class="moment-btn nancy-moment" onclick="selMoment('n','almuerzo',this)"><span class="mb-e">üå∫</span>Almuerzo</button>
      <button class="moment-btn nancy-moment" onclick="selMoment('n','merienda',this)"><span class="mb-e">üéÄ</span>Merienda</button>
      <button class="moment-btn nancy-moment" onclick="selMoment('n','cena',this)"><span class="mb-e">üåô</span>Cena</button>
      <button class="moment-btn nancy-moment selected" onclick="selMoment('n','random',this)"><span class="mb-e">üé≤</span>Cualquiera</button>
    </div>
    <button class="big-btn nancy-big" onclick="surprise('n')">‚ú® ¬°Sorprendeme!</button>
    <div id="n-surprise-result"></div>
  </div>
  <div class="tab-content" id="n-tab-plato">
    <div class="sec-hd nancy-sec"><h2>üç≥ Armar plato</h2><div class="line"></div></div>
    <p class="hint">Escrib√≠ 1 o 2 ingredientes y te digo qu√© combinar.</p>
    <div class="ingr-input-row">
      <input type="text" id="n-ii" class="ingr-input" placeholder="Ej: arroz, pollo..." onkeydown="if(event.key==='Enter')addI('n')">
      <button class="ingr-btn nancy-ingr" onclick="addI('n')">+ Agregar</button>
    </div>
    <div class="ingr-tags" id="n-it"></div>
    <button class="big-btn nancy-big" onclick="analyzePlate('n')" style="margin-bottom:1rem;">üç≥ Ver combinaciones</button>
    <div id="n-plate-result"></div>
  </div>
  <div class="tab-content" id="n-tab-compras">
    <div class="sec-hd nancy-sec"><h2>üõí Lista de compras</h2><div class="line"></div></div>
    <div class="shop-info">4 personas ¬∑ Nancy + Rodrigo + 2 ni√±os de 9 a√±os ¬∑ Semana completa ¬∑ Estaci√≥n del a√±o</div>
    <button class="big-btn nancy-big" onclick="genShop()">üõí Generar con IA</button>
    <div id="shop-result"></div>
  </div>
  <div class="bottom-nav nancy-bnav">
    <button class="bottom-btn active" id="n-bn-alimentos" onclick="nTab('alimentos')"><span class="be">üß∫</span>Alimentos</button>
    <button class="bottom-btn" id="n-bn-comidas" onclick="nTab('comidas')"><span class="be">üçΩÔ∏è</span>Comidas</button>
    <button class="bottom-btn" id="n-bn-sorpresa" onclick="nTab('sorpresa')"><span class="be">üé≤</span>Surprise</button>
    <button class="bottom-btn" id="n-bn-plato" onclick="nTab('plato')"><span class="be">üç≥</span>Plato</button>
    <button class="bottom-btn" id="n-bn-compras" onclick="nTab('compras')"><span class="be">üõí</span>Compras</button>
  </div>
</div>

<!-- RODRIGO APP -->
<div id="app-rodrigo" class="app-screen">
  <div class="rodrigo-header">
    <button class="back-btn" onclick="goHome()">‚Üê</button>
